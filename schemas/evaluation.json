{
  "type": "object",
  "properties": {
    "score": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "description": "Overall plan quality score (1-10). Sum of breakdown categories."
    },
    "breakdown": {
      "type": "object",
      "properties": {
        "completeness": {
          "type": "integer",
          "minimum": 0,
          "maximum": 2,
          "description": "Does the plan cover all requirements? 0=missing major pieces, 1=partial, 2=thorough"
        },
        "correctness": {
          "type": "integer",
          "minimum": 0,
          "maximum": 2,
          "description": "Is the approach technically sound? 0=flawed, 1=mostly correct, 2=solid"
        },
        "sequencing": {
          "type": "integer",
          "minimum": 0,
          "maximum": 2,
          "description": "Are steps in the right order with dependencies respected? 0=broken, 1=mostly, 2=logical"
        },
        "risk_awareness": {
          "type": "integer",
          "minimum": 0,
          "maximum": 2,
          "description": "Does the plan identify risks and edge cases? 0=ignores risks, 1=some, 2=thorough"
        },
        "clarity": {
          "type": "integer",
          "minimum": 0,
          "maximum": 2,
          "description": "Is the plan clear and actionable? 0=vague, 1=ok, 2=precise and actionable"
        }
      },
      "required": ["completeness", "correctness", "sequencing", "risk_awareness", "clarity"],
      "additionalProperties": false
    },
    "weaknesses": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Specific issues that lower the score. Each should be actionable."
    },
    "suggestions": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Concrete improvements the plan author should make."
    },
    "strengths": {
      "type": "array",
      "items": { "type": "string" },
      "description": "What the plan does well. Reinforces good practices."
    },
    "is_plan": {
      "type": "boolean",
      "description": "Is this text an implementation plan? false for non-plan content (code, explanations, conversation, status updates)."
    }
  },
  "required": ["score", "breakdown", "weaknesses", "suggestions", "strengths", "is_plan"],
  "additionalProperties": false
}
